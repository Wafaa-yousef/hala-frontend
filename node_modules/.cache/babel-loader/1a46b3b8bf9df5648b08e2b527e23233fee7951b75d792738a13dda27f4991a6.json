{"ast":null,"code":"import{useState}from'react';import'./quoteForm.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function QuoteForm(){const[warehouse,setWarehouse]=useState('');const[storageType,setStorageType]=useState('dry');const[pallets,setPallets]=useState(0);const[quote,setQuote]=useState(null);const[error,setError]=useState('');const[available,setAvailable]=useState('0');const[availablePallets,setAvailablePallets]=useState('false');const handleSubmit=async e=>{e.preventDefault();setError('');setQuote(null);setAvailable(false);setAvailablePallets('');try{const res=await axios.post(`${process.env.REACT_APP_API_URL}/api/customer/quote`,{warehouse,storageType,pallets:Number(pallets)});const newQuote=res.data.quote;console.log(newQuote);setQuote(newQuote);setAvailablePallets(newQuote.availablePallets);if(newQuote.availablePallets>=pallets)setAvailable(true);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to calculate quote');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"quote-form-container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Warehouse:\"}),/*#__PURE__*/_jsxs(\"select\",{value:warehouse,onChange:e=>{setWarehouse(e.target.value);},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-select warehouse-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TYBA\",children:\"TYBA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Tuwaiq\",children:\"Tuwaiq\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Modon 3B\",children:\"Modon 3B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"JUB 2\",children:\"JUB 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"JUB 1\",children:\"JUB 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"JEDDAH\",children:\"JEDDAH\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DMM PORT\",children:\"DMM PORT\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Storage Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:storageType,onChange:e=>setStorageType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"dry\",children:\"Dry\"}),/*#__PURE__*/_jsx(\"option\",{value:\"temp-controlled\",children:\"Temp-Controlled\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Number of Pallets:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",dir:\"ltr\",min:0,value:pallets,onChange:e=>setPallets(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Get Quote\"})]}),quote?available?/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Quote Result\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Base Price: \",quote.basePrice]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Total Price: \",quote.totalPrice]}),quote.surchargeApplied?/*#__PURE__*/_jsx(\"p\",{style:{color:'orange'},children:\"\\u26A0\\uFE0F Surcharge Applied (15%)\"}):/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:\"No surcharge Applied!\"})]}):/*#__PURE__*/_jsxs(\"p\",{style:{color:'red'},children:[\"Available Pallets is just \",Math.max(availablePallets,0)]}):/*#__PURE__*/_jsx(\"p\",{}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]});}","map":{"version":3,"names":["useState","axios","jsx","_jsx","jsxs","_jsxs","QuoteForm","warehouse","setWarehouse","storageType","setStorageType","pallets","setPallets","quote","setQuote","error","setError","available","setAvailable","availablePallets","setAvailablePallets","handleSubmit","e","preventDefault","res","post","process","env","REACT_APP_API_URL","Number","newQuote","data","console","log","err","_err$response","_err$response$data","response","className","children","onSubmit","value","onChange","target","required","type","dir","min","style","marginTop","basePrice","totalPrice","surchargeApplied","color","Math","max"],"sources":["C:/Users/ALAMEEN/Desktop/new-frontend/hala-frontend/src/components/quoteForm/QuoteForm.js"],"sourcesContent":["import { useState } from 'react';\r\nimport './quoteForm.css';\r\nimport axios from 'axios'\r\n\r\nexport default function QuoteForm(){\r\n  const [warehouse, setWarehouse] = useState('');\r\n  const [storageType, setStorageType] = useState('dry');\r\n  const [pallets, setPallets] = useState(0);\r\n  const [quote, setQuote] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [available,setAvailable]=useState('0')\r\n  const [availablePallets,setAvailablePallets]=useState('false')\r\n\r\n\r\nconst  handleSubmit= async(e)=>{\r\n    e.preventDefault();\r\n    setError('')\r\n    setQuote(null);\r\n    setAvailable(false)\r\n    setAvailablePallets('')\r\n    \r\n    \r\n    try{\r\n     \r\n     const  res=await axios.post(`${process.env.REACT_APP_API_URL}/api/customer/quote`,{\r\n             warehouse,\r\n        storageType,\r\n        pallets: Number(pallets)\r\n\r\n        } )\r\n         \r\n        const newQuote = res.data.quote;\r\n       console.log(newQuote)\r\n    setQuote(newQuote);\r\n    setAvailablePallets(newQuote.availablePallets)\r\n  if (newQuote.availablePallets>=pallets )setAvailable(true)\r\n      \r\n    \r\n    \r\n}\r\n    \r\n    catch(err){\r\n        setError(err.response?.data?.error || 'Failed to calculate quote');\r\n\r\n    }\r\n}\r\n\r\nreturn (\r\n  <div className=\"quote-form-container\">\r\n    <form  onSubmit={handleSubmit}>\r\n     <label>Warehouse:</label>\r\n<select\r\n  value={warehouse}\r\n  onChange={(e) => {setWarehouse(e.target.value) ;}\r\n  \r\n  }\r\n  required\r\n \r\n>\r\n  <option value=\"\" >-select warehouse-</option>\r\n  <option value=\"TYBA\">TYBA</option>\r\n  <option value=\"Tuwaiq\">Tuwaiq</option>\r\n  <option value=\"Modon 3B\">Modon 3B</option>\r\n  <option value=\"JUB 2\">JUB 2</option>\r\n  <option value=\"JUB 1\">JUB 1</option>\r\n  <option value=\"JEDDAH\">JEDDAH</option>\r\n  <option value=\"DMM PORT\">DMM PORT</option>\r\n</select>\r\n\r\n\r\n      <label>Storage Type:</label>\r\n      <select\r\n        value={storageType}\r\n        onChange={(e) => setStorageType(e.target.value)}\r\n      >\r\n        <option value=\"dry\">Dry</option>\r\n        <option value=\"temp-controlled\">Temp-Controlled</option>\r\n      </select>\r\n\r\n      <label>Number of Pallets:</label>\r\n      <input\r\n        type=\"number\"\r\n        dir=\"ltr\"\r\n         min={0}\r\n         \r\n        value={pallets}\r\n        onChange={(e) => setPallets(e.target.value)}\r\n        required\r\n      />\r\n\r\n      <button type=\"submit\">Get Quote</button>\r\n    </form>\r\n    \r\n    { quote?(available?(\r\n  <div style={{ marginTop: '20px' }}>\r\n    <h3>Quote Result</h3>\r\n    <p> Base Price: {quote.basePrice}</p>\r\n    <p> Total Price: {quote.totalPrice}</p>\r\n    \r\n    \r\n    {quote.surchargeApplied?(\r\n      <p style={{ color: 'orange' }}>⚠️ Surcharge Applied (15%)</p>\r\n    ):<p style={{ color: 'green' }}>No surcharge Applied!</p> }\r\n  </div> ):\r\n  (<p style={{ color: 'red' }} >Available Pallets is just {Math.max(availablePallets,0) }</p>)):<p></p>}\r\n \r\n  \r\n\r\n    \r\n    \r\n    {(error && <p className=\"error-message\">{error}</p>)}\r\n  </div>\r\n);}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}